## Overview

The biphasic sipper model allows for the dissociation of appetitive and consummatory behaviors when assessing self-administration of oral substances, such as alcohol or sucrose. 

This paradigm was originally created by [Samson et al. (1998).](https://pubmed.ncbi.nlm.nih.gov/9835295/)

## Analysis Features Available in the Shiny Application
### Preprocessing
- **Ability to identify and remove lever presses that occur after the response requirement was completed.** This can occur if a subject triggers the lever press while retracted (e.g., sniffing near the retracted lever or simply playing with it). While uncommon, identifying and removing these events is critical for correctly calculating variables like *time elapsed between first and last lever press*, which subsequently implicates *lever press rate* variables. 
- **Ability to identify and remove licks that occur before the response requirement was completed.** This can occur if a subject reaches the sipper tube with their paws while the sipper is still retracted. While uncommon, identifying and removing these events is critical for correctly calculating variables like *time elapsed between first and last lick*, which subsequently implicates *lick rate* variables. 

  
### Outputs
- Summary table including time stamps of key events, latencies to key events, lick counts, and topography details
- Cumulative record plots separated by the appetitive phase and consummatory phase
  - Option to save a specific or all CRs in a user-selected directory as .png, .jpg, or .pdf
- Bin analyses: Generates a table of the number of lever presses or licks occurring throughout the session at user-defined bins
- Bout analyses: Generates a table of the number of licks that occur per drinking bout, a lapse in drinking for a user-defined period of time
  
## Example Data

This repository includes example data in the `example_data/` folder. These files can be used to test the app and explore its features.

To load the example data:
1. Launch the app.
2. Use the file upload panel to select a file from `example_data/`.
3. Explore the visualizations and metrics generated by the app.

To employ the biphasic sipper model approach in your experiments, we have shared our Med-PC file in the `medpc_code/` folder, as well. 

## Version
1.0.0

## Change Log
- 1.0.0: alpha build

## Contributing
You're welcome to use, adapt, and build on this project as needed. This app was specifically developed to enhance the ability of our lab to analyze data systematically, but your lab/project might have its own needs. If you find bugs or have suggestions, feel free to open an issue or submit a pull request. 

## Shiny app to dos
- Integrate option for an inactive lever (y/n)
- Integrate concurrent choice code and option (y/n)

## Publications Using `medparser` R Package Functions Applied to the Biphasic Sipper Model for a Single Reinforcer:
- Bach et al. (2024). Chemogenetic inhibition of a monosynaptic projection from the basolateral amygdala to the ventral hippocampus selectively reduces appetitive, but not consummatory, alcohol drinking-related behaviours. European Journal of Neuroscience. [PMCID: PMC10931538](https://pubmed.ncbi.nlm.nih.gov/36840503/)
  - Oral ethanol and sucrose self-administration 

- Ortelli and Weiner (2024). Validation of the extinction probe trial as a measure of motivation in male and female Long Evans rats. ACER. [PMCID: PMC11568546](https://pubmed.ncbi.nlm.nih.gov/38472151/)
  - Oral ethanol and sucrose self-administration 
